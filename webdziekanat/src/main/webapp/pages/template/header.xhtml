<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <body>
        <ui:composition>
 
        <!-- Navigation -->
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" style="z-index:1000">
            <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li><h:link value="Students" outcome="students.xhtml" rendered="#{userMB.user.hasRole('ADMIN')}"/></li>
                        <li><h:link value="Subjects" outcome="subjects.xhtml" rendered="#{userMB.user.hasRole('ADMIN')}"/></li>
                        <li><h:link value="Lecturers" outcome="lecturers.xhtml" rendered="#{userMB.user.hasRole('ADMIN')}"/></li>
                        <li><h:link value="Courses" outcome="courses.xhtml" rendered="#{userMB.user.hasRole('ADMIN')}"/></li>
                        <li><h:link value="Admin Panel" outcome="admin.xhtml" rendered="#{userMB.user.hasRole('ADMIN')}"/></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
    
                        <li>
                            <h:panelGroup rendered="#{not userMB.loggedIn}">
                            <div class="dropdown">
                                <button type="button" class="btn btn-default navbar-btn" onclick="toggle('loginForm');">Login</button>
    
                                <div id="loginForm" class="dropdown-menu" style="padding: 10px; background: #ddd">
                                    <h:form action="" role="form">
                                        <div class="form-group">
                                            <p:outputLabel>User</p:outputLabel>
                                            <p:inputText styleClass="form-control" id="user" placeholder="User" value="#{userMB.user.username}"/>

                                            <p:outputLabel>Password</p:outputLabel>
                                            <p:inputText type="password" styleClass="form-control" id="password" placeholder="Password" value="#{userMB.user.password}"/>
                                        </div>
                                        <p:commandButton type="submit" styleClass="btn btn-default" value="Sign In" action="#{userMB.login()}"/>
                                    </h:form>
                                </div>
                            </div>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{userMB.loggedIn}">
                                <div class="form-group">
                                    <h:form>
                                        <p:outputLabel styleClass="navbar-text">Welcome: </p:outputLabel>
                                        <p:outputLabel value="#{userMB.user.username}" styleClass="navbar-text"/>
                                        <p:commandButton type="submit" styleClass="btn btn-default navbar-btn" value="Logout" action="#{userMB.logout()}"/>
                                    </h:form>
                                </div>
                            </h:panelGroup>
                        </li>
                    </ul>
                </div>
                <!-- /.navbar-collapse -->
            </div>
            <!-- /.container -->
        </nav>
 
        </ui:composition>
    </body>
</html>